<% content_for(:side_bar) do %>
  <%= render "shared/genres_list" %>
<% end %>

<ul id="movies">
  <% @movies.each do |movie| %>
    <li>
      <article class="movie" id="<%= dom_id(movie) %>">
        <header>
          <%= image_for(movie) %>
          <h2><%= link_to movie.title, movie %> (<%= movie.released_on.year %>)</h2>
          <h3><%= movie.cast %></h3>
        </header>
        <p>
          <%= truncate(movie.description, length: 150, separator: ' ') %>
        </p>
        <table>
          <tr>
            <th>Rating</th>
            <td><%= movie.rating %></td>
          </tr>
          <tr>
            <th>Duration</th>
            <td><%= movie.duration %></td>
          </tr>
          <% if movie.released? %>
            <tr>
              <th>Total Gross</th>
              <td><%= format_total_gross(movie) %></td>
            </tr>
          <% end %>
        </table>
        <footer>
        </footer>
      </article>
    </li>
  <% end %>
</ul>

